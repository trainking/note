# Rust问题

## 变量

### 1. 变量可变吗？什么是可变变量？

Rust中的变量默认是不可变的，即不可以被二次赋值，只用在变量声明时，使用`mut`声明可变变量，才可以修改其值。

### 2. 变量的作用域？

变量的作用域限定在`{}`号之内，当变量声明是创建，当变量离开作用域时，则销毁。即变量的所有权，由作用域决定。

### 3. 引用？

应用使用`&`，变量的引用分为**引用**与**可变引用**，形式为:

* `&s`: 引用，此形式声明的变量应用，无论变量是否时可变变量，都不可以通过引用修改其值
* `&mut s`: 可变引用，其只能对可变变量引用，可以通过此引用修改变量其值，但在一个作用域内，只允许对一个可变量，当且仅当只允许有一次可变引用。

同时，对一个变量，不可以在**已创建引用**的情况下，创建可变引用。

### 4. 悬空引用？

应为`Rust`中，每个变量在初始化时，都要赋予初值。因此不存在野指针类似的，野引用。但是，存在引用变量，在离开作用域后，返回了其引用的悬空引用。这在Rust中，是无法通过编译的。

例如:

```
fn change() -> &String {
    let s = String::from("aaa");
    return &s;
}
```

这样方式，企图将函数内部声明的变量，通过返回值方式，将其引用传递出去是不合法的。

## 切片 - slice

### 1. 什么是切片?

slice是Rust提供的一种，对**字符串**，以及其他集合类，取其中片段的方式。与golang语言类似。不同的是，切片并不能改变其值。

```rust
let s = String.from("111");
let s2 = &s[1..]
```

### 2. 什么是字符串切片？

rust中，字符串的字面量，就是一个字符串切片:

```rust
let s = "13323";
```

## 结构体与元组

rust中的，结构体和元组，都是对不同类型的数据进行组合成新的类型。不同的是，元组更突出一个匿名，而结构体突出现名，需要定义其名，因为了有了这些名字，结构体比元组更灵活：

**无需通过顺序来访问其值**。

### 结构体定义

```rust
struct User {
    active: bool,
    username: String,
    email: String,
    sign_in_count: u64,
}
```

### 结构体方法

rust中的结构体，通用可以和go中一样，为其定义方法:

```rust
#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
    fn area(&self) -> u32 {
        self.width * self.height
    }
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!(
        "The area of the rectangle is {} square pixels.",
        rect1.area()
    );
}
```

### 结构体关联函数

关联函数是类似面向对象语言中，常用的一种静态函数。其定义，是在`impl`块中，但是其第一个参数并不是`&self`，因此他的调用方式：

```rust
String::from();
```

